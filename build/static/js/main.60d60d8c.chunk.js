(this.webpackJsonpleaderboard=this.webpackJsonpleaderboard||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(29),c=n.n(s),o=(n(109),n(110),n(111),n(12)),i=n(27),d=n(1);var u=function(){return Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(d.jsx)(i.b,{className:"navbar-brand",to:"/",children:"Leader Board"}),Object(d.jsx)(i.b,{className:"navbar-brand",to:"/add-user",children:"Add User"})]})},l=n(6),p=n(8),b=n.n(p),j=n(18),h=n(2),f=n(3),m=n(9),O=n(10),g=n(49),x=n(96),v={Success:function(e){o.b.success(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Error:function(e){o.b.error(e,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Add:function(e){if(200===e.data.statusCode)return o.b.success("Data adding",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.data.data;o.b.error("Something went wrong. Please try again",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Update:function(e){if(200===e.data.statusCode)return o.b.success("Data updating",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e;o.b.error("Something went wrong. Please try again",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},Get:function(e){return 200===e.data.statusCode?e.data.data:{}},APIError:function(e){o.b.error("Something went wrong. Please try again",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}};var y=n.n(x).a.create({baseURL:"".concat("https://6d0c-59-103-212-133.ngrok.io/api/"),validateStatus:function(e){return e<500},maxRedirects:5});y.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("userObj")?JSON.parse(localStorage.getItem("userObj")).token:null),"post"!==e.method&&"put"!==e.method||(console.group(e.url),console.info(JSON.stringify(e.data,null,2)),console.groupEnd()),e}),(function(e){return Promise.reject(e)})),y.interceptors.response.use((function(e){return"post"===e.config.method||"put"===e.config.method?(console.group(e.config.url),console.info(JSON.stringify(e.data,null,2)),console.groupEnd()):"get"===e.config.method&&(console.group(e.config.url),console.info(e.data),console.groupEnd()),e.config.parse,402==e.data.status_code&&(e.data.message[0].match("Token Expired")||e.data.message[0].match("Token Invalid"))&&(v.Error(e.data.message[0]),localStorage.removeItem("userObj")),e}),(function(e){return Promise.reject(e.message)}));var N=y,C="user",S={List:function(){return N.get("".concat(C,"/get")).then((function(e){return e}),(function(e){}))},Create:function(e){return w.apply(this,arguments)},UpdateById:function(e){return N.put("".concat(C,"/UpdateById"),e).then((function(e){return e}),(function(e){}))},Delete:function(e){return k.apply(this,arguments)}};function w(){return(w=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.post("".concat(C,"/create"),t).then((function(e){return e}),(function(e){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.delete("".concat(C,"/delete/").concat(t)).then((function(e){return e.data}),(function(e){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(e){var r,a;return Object(h.a)(this,n),(a=t.call(this,e)).counterUpdate=function(e,t){var n=a.state.data,r=n.findIndex((function(e){return e.id===t}));"decrease"===e?n[r].points--:"increase"===e&&n[r].points++,a.setState({data:n}),a.updateRecordtoDB(t,n[r].points)},a.pointChange=function(e,t){var n=a.state.data,r=n.findIndex((function(e){return e.id===t}));n[r].points=e,a.setState({data:n}),a.updateRecordtoDB(t,e)},a.deleteRecord=function(){var e=Object(j.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.data,r=n.findIndex((function(e){return e.id===t})),n[r].isDeleting=!0,a.setState({data:n}),a.props.deleteAndUpdate(t).then(function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,a.props.getAllUsers();case 3:n=e.sent,a.setState({data:n}),o.b.success("Delete Successfully!");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateRecordtoDB=function(){var e=Object(j.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={id:t,points:n},S.UpdateById(r).then((function(e){200===e.data.success?o.b.success(e.data.message):o.b.error(e.data.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={data:null!==(r=a.props.leaderboard)&&void 0!==r?r:[]},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getAllUsers();case 2:t=e.sent,this.setState({data:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.data;return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{className:"thead-dark",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"#"}),Object(d.jsx)("th",{scope:"col",children:"Participent Name"}),Object(d.jsx)("th",{scope:"col",children:"Location"}),Object(d.jsx)("th",{scope:"col",children:"Date"}),Object(d.jsx)("th",{scope:"col",children:"Units"}),Object(d.jsx)("th",{scope:"col",children:"Type"}),Object(d.jsx)("th",{scope:"col",children:"Points"}),Object(d.jsx)("th",{scope:"col",children:"Action"})]})}),Object(d.jsx)("tbody",{children:t.map((function(t,n){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:n+1}),Object(d.jsx)("td",{children:t.participantName}),Object(d.jsx)("td",{children:t.location}),Object(d.jsx)("td",{children:t.selectedDate.substring(0,10)}),Object(d.jsx)("td",{children:t.units}),Object(d.jsx)("td",{children:t.type}),Object(d.jsx)("td",{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.counterUpdate("decrease",t.id)},children:"-"}),Object(d.jsx)("input",{type:"text",value:t.points,onChange:function(n){return e.pointChange(+n.target.value,t.id)}}),Object(d.jsx)("button",{className:"btn btn-success",onClick:function(){return e.counterUpdate("increase",t.id)},children:"+"})]})}),Object(d.jsx)("td",{children:t.isDeleting?Object(d.jsx)("div",{className:"spinner-border",role:"status",children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(d.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.deleteRecord(t.id)},children:"Delete"})})]},t.id)}))})]})})}}]),n}(a.a.Component),D=Object(g.b)((function(e){return{leaderboard:e.leaderboard.users}}),{getAllUsers:function(e){return function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.List().then((function(e){var n=e.data;return 200===n.success?(t({type:"GET_ALL_USERS",payload:n.payload}),n.payload):(t({type:"GET_ALL_USERS",payload:[]}),[])}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deleteAndUpdate:function(e){return function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.Delete(e).then((function(e){return 200===e.success}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(E),P=n(104),U=n(25),B=U.a().shape({participantName:U.b().required("Required"),location:U.b().required("Required"),units:U.b().required("Required"),type:U.b().required("Required"),points:U.b().required("Required").min(0,"to short"),selectedDate:U.b().required("Required")}),L=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={data:[]},r}return Object(f.a)(n,[{key:"render",value:function(){return Object(d.jsx)(P.a,{validateOnChange:!0,initialValues:{participantName:"",location:"",units:"",type:"",points:"",selectedDate:""},validationSchema:B,onSubmit:function(e,t){t.setStatus;var n=t.setSubmitting;t.resetForm;S.Create(e).then((function(e){n(!1),e.data.success?v.Success(e.data.message):v.Error(e.data.message)}))},render:function(e){e.form;var t=e.errors,n=e.handleSubmit,r=e.status,a=(e.touched,e.isSubmitting),s=e.values,c=e.handleChange;e.handleBlur,e.setFieldTouched,e.setFieldValue,e.setFieldError;return Object(d.jsx)("form",{onSubmit:n,children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("h5",{className:"card-title",children:"Add New Player"})}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{for:"inputAddress",children:"Participent Name *"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"participantName",value:s.participantName,onChange:c,id:"participantName",placeholder:"Enter Participent Name"}),Object(d.jsx)("span",{className:"error",children:t.participantName})]}),Object(d.jsxs)("div",{className:"form-row",children:[Object(d.jsxs)("div",{className:"form-group col-md-6",children:[Object(d.jsx)("label",{for:"inputPassword4",children:"Location *"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"location",value:s.location,onChange:c,id:"location",placeholder:"Enter Location"}),Object(d.jsx)("span",{className:"error",children:t.location})]}),Object(d.jsxs)("div",{className:"form-group  col-md-6",children:[Object(d.jsx)("label",{for:"inputEmail4",children:"Date *"}),Object(d.jsx)("input",{type:"date",className:"form-control",name:"selectedDate",value:s.selectedDate,onChange:c,id:"selectedDate",placeholder:"Date"}),Object(d.jsx)("span",{className:"error",children:t.selectedDate})]})]}),Object(d.jsxs)("div",{className:"form-row",children:[Object(d.jsxs)("div",{className:"form-group col-md-4",children:[Object(d.jsx)("label",{for:"inputZip",children:"Unit *"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"units",value:s.units,onChange:c,id:"units",placeholder:"Enter Unit"}),Object(d.jsx)("span",{className:"error",children:t.units})]}),Object(d.jsxs)("div",{className:"form-group col-md-4",children:[Object(d.jsx)("label",{for:"inputCity",children:"Type *"}),Object(d.jsx)("input",{type:"text",className:"form-control",name:"type",value:s.type,onChange:c,id:"type",placeholder:"Enter Type"}),Object(d.jsx)("span",{className:"error",children:t.type})]}),Object(d.jsxs)("div",{className:"form-group col-md-4",children:[Object(d.jsx)("label",{for:"inputZip",children:"Point *"}),Object(d.jsx)("input",{type:"number",className:"form-control",name:"points",value:s.points,onChange:c,id:"points",placeholder:"Enter Point"}),Object(d.jsx)("span",{className:"error",children:t.points})]})]}),a?Object(d.jsx)("div",{className:"spinner-border",role:"status",children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),r&&Object(d.jsx)("div",{classNameName:"alert alert-danger",children:r})]})]})})})}})}}]),n}(a.a.Component);var R=function(){return Object(d.jsxs)(i.a,{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/",component:D,exact:!0}),Object(d.jsx)(l.a,{path:"/add-user",component:L,exact:!0})]})]}),Object(d.jsx)(o.a,{})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},I=n(32),_=n(102),q=n.n(_),T=n(103),F=n(62),H={users:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_USERS":return Object(F.a)(Object(F.a)({},e),{},{users:t.payload});default:return e}},G=Object(I.b)({leaderboard:J}),M=[T.a,q()()],V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.c,X=Object(I.d)(G,{},V(I.a.apply(void 0,M)));c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(g.a,{store:X,children:Object(d.jsx)(R,{})})})}),document.getElementById("root")),A()}},[[235,1,2]]]);
//# sourceMappingURL=main.60d60d8c.chunk.js.map